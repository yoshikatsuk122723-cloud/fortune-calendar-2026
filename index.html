<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>運勢カレンダー 2026</title>

  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --text:#111827;
      --sub:#6b7280;
      --line:#e5e7eb;
      --accent:#6366f1;
      --good:#16a34a;
      --ng:#ef4444;
      --shadow: 0 10px 28px rgba(0,0,0,.07);
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", "Hiragino Sans", "Yu Gothic", sans-serif;
      background:var(--bg);
      color:var(--text);
      padding:16px;
    }
    .wrap{ max-width:760px; margin:0 auto; }
    header{ margin:10px 0 14px; }
    h1{ font-size:28px; margin:0 0 6px; letter-spacing:.02em; }
    .lead{ margin:0; color:var(--sub); line-height:1.7; }

    .row{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .chip{
      display:inline-flex; align-items:center; gap:6px;
      padding:6px 10px; border-radius:999px;
      border:1px solid var(--line); background:#fff;
      color:var(--sub); font-size:12px; font-weight:700;
    }
    .chip.accent{ border-color:rgba(99,102,241,.35); background:rgba(99,102,241,.10); color:var(--accent); }
    .chip.good{ border-color:rgba(22,163,74,.30); background:rgba(22,163,74,.10); color:var(--good); }
    .chip.ng{ border-color:rgba(239,68,68,.30); background:rgba(239,68,68,.10); color:var(--ng); }

    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:16px;
      padding:14px;
      box-shadow:var(--shadow);
      margin:12px 0;
    }
    .card h2{ font-size:18px; margin:0 0 10px; }

    .box{
      border:1px solid var(--line);
      border-radius:14px;
      padding:12px;
      background:#fff;
    }
    .box.good{ border-color: rgba(22,163,74,.25); background: rgba(22,163,74,.08); }
    .box.ng{ border-color: rgba(239,68,68,.25); background: rgba(239,68,68,.08); }

    .label{
      font-size:12px; font-weight:900;
      margin-bottom:6px;
      display:flex; align-items:center; gap:8px;
      color:var(--text);
    }
    .dot{ width:10px; height:10px; border-radius:50%; display:inline-block; }
    .dot.good{ background:var(--good); }
    .dot.ng{ background:var(--ng); }

    /* Calendar */
    .cal-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .btn{
      border:1px solid var(--line);
      background:#fff;
      border-radius:12px;
      padding:8px 10px;
      font-weight:800;
      color:var(--text);
      cursor:pointer;
      user-select:none;
    }
    .btn:active{ transform: translateY(1px); }
    .month-title{
      font-weight:900;
      font-size:16px;
      letter-spacing:.02em;
    }
    .grid{
      display:grid;
      grid-template-columns: repeat(7, 1fr);
      gap:8px;
    }
    .dow{
      font-size:12px;
      color:var(--sub);
      font-weight:800;
      text-align:center;
      padding:6px 0;
    }
    .day{
      border:1px solid var(--line);
      background:#fff;
      border-radius:14px;
      min-height:52px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      cursor:pointer;
      position:relative;
      user-select:none;
    }
    .day.muted{
      background:transparent;
      border-color:transparent;
      color:transparent;
      cursor:default;
    }
    .day.selected{
      border-color: rgba(99,102,241,.55);
      box-shadow: 0 0 0 4px rgba(99,102,241,.12);
    }
    .day.today::after{
      content:"";
      width:8px;height:8px;border-radius:999px;
      background:var(--accent);
      position:absolute;
      bottom:8px;
    }

    .split{
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
    }
    @media (min-width: 740px){
      .split{ grid-template-columns: 1.2fr .8fr; align-items:start; }
    }

    .kv{
      display:flex;
      justify-content:space-between;
      gap:10px;
      padding:10px 12px;
      border:1px solid var(--line);
      border-radius:14px;
      background:#fff;
      margin-top:10px;
    }
    .kv .k{ color:var(--sub); font-size:12px; font-weight:800; }
    .kv .v{ font-weight:900; }

    ul{ margin:10px 0 0; padding-left:18px; }
    li{ line-height:1.7; }

    footer{ margin:16px 0 6px; text-align:center; color:var(--sub); font-size:12px; }
    a{ color:var(--accent); text-decoration:none; }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <h1>運勢カレンダー 2026</h1>
      <p class="lead">日付をタップすると、その日の運勢が表示されます。</p>
      <div class="row" style="margin-top:10px;">
        <span class="chip accent" id="monthTheme">今月のテーマ：整える</span>
        <span class="chip" id="priorityChip">優先：対人</span>
      </div>
    </header>

    <div class="split">
      <!-- Calendar -->
      <div class="card">
        <div class="cal-head">
          <button class="btn" id="prevBtn">← 前</button>
          <div class="month-title" id="monthTitle">2026年1月</div>
          <button class="btn" id="nextBtn">次 →</button>
        </div>

        <div class="grid" id="dowRow">
          <div class="dow">日</div><div class="dow">月</div><div class="dow">火</div><div class="dow">水</div><div class="dow">木</div><div class="dow">金</div><div class="dow">土</div>
        </div>

        <div class="grid" id="calGrid" style="margin-top:8px;"></div>

        <div class="kv">
          <div>
            <div class="k">選択中の日付</div>
            <div class="v" id="selectedDateText">-</div>
          </div>
          <div style="text-align:right;">
            <div class="k">おすすめ方角</div>
            <div class="v" id="directionText">-</div>
          </div>
        </div>
      </div>

      <!-- Fortune -->
      <div class="card">
        <h2>今日の運勢</h2>

        <div class="box good" style="margin-bottom:10px;">
          <div class="label"><span class="dot good"></span><span id="goodTitle">吉</span></div>
          <div id="goodText">-</div>
        </div>

        <div class="box ng">
          <div class="label"><span class="dot ng"></span><span id="ngTitle">NG</span></div>
          <div id="ngText">-</div>
        </div>

        <div class="row" style="margin-top:10px;">
          <span class="chip" id="luckyColorChip">ラッキーカラー：-</span>
          <span class="chip" id="categoryChip">カテゴリ：-</span>
        </div>

        <ul id="tipsList"></ul>
      </div>
    </div>

    <footer>© 2026 Fortune Calendar</footer>
  </div>

  <script>
    // ===== 基本設定 =====
    const YEAR = 2026;

    // 月テーマ（例：12ヶ月）
    const monthThemes = [
      "整える","整える","芽吹く","加速","刷新","守る",
      "育てる","広げる","整う","収穫","磨く","締める"
    ];

    // 優先カテゴリ（例：月ごと）
    const monthPriority = [
      "対人","仕事","自分","対人","仕事","自分",
      "対人","仕事","自分","対人","仕事","自分"
    ];

    // 九星（簡易：月ごとにローテーション例）
    const directions = ["北","北東","東","南東","南","南西","西","北西"];
    function getDirection(date){
      // 日にちで回す（簡易ロジック）
      const idx = (date.getMonth() * 31 + date.getDate()) % directions.length;
      return directions[idx];
    }

    // ラッキーカラー（簡易：カテゴリで決める）
    const colorByCategory = {
      "対人":"グレー",
      "仕事":"ネイビー",
      "自分":"アイボリー"
    };

    // ここが「運勢の中身」：日付で変わる（簡易生成）
    function fortuneFor(date){
      const seed = (date.getMonth()+1) * 100 + date.getDate();

      const goodList = [
        "ランチの誘いが良い刺激に",
        "連絡がスムーズに進む",
        "片付けが気分転換になる",
        "短い散歩で集中が戻る",
        "ひとつだけ片づけると流れが良い",
        "丁寧な返事が信頼につながる",
      ];
      const ngList = [
        "噂話には加わらないこと",
        "急いで結論を出さない",
        "勢いで買い物しない",
        "言い過ぎに注意",
        "睡眠を削らない",
        "比べすぎない",
      ];
      const categoryList = ["対人","仕事","自分"];

      const good = goodList[seed % goodList.length];
      const ng = ngList[(seed * 3) % ngList.length];
      const category = categoryList[seed % categoryList.length];
      const luckyColor = colorByCategory[category] || "ホワイト";

      const tips = [
        "やることは1つに絞る",
        "返信は短くてもOK",
        "水分を意識してとる",
        "今日は「整える」を意識する",
      ];

      return { good, ng, category, luckyColor, tips };
    }

    // ===== カレンダー描画 =====
    const monthTitle = document.getElementById("monthTitle");
    const calGrid = document.getElementById("calGrid");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");

    const monthThemeChip = document.getElementById("monthTheme");
    const priorityChip = document.getElementById("priorityChip");

    const selectedDateText = document.getElementById("selectedDateText");
    const directionText = document.getElementById("directionText");
    const goodText = document.getElementById("goodText");
    const ngText = document.getElementById("ngText");
    const luckyColorChip = document.getElementById("luckyColorChip");
    const categoryChip = document.getElementById("categoryChip");
    const tipsList = document.getElementById("tipsList");

    let viewMonth = 0; // 0=1月
    let selected = new Date(YEAR, 0, 1);

    // 今日（2026年以外なら 2026/1/1 にする）
    const now = new Date();
    const today = (now.getFullYear() === YEAR) ? now : new Date(YEAR, 0, 1);

    function fmtDate(d){
      const y = d.getFullYear();
      const m = d.getMonth()+1;
      const day = d.getDate();
      const w = ["日","月","火","水","木","金","土"][d.getDay()];
      return `${y}年${m}月${day}日（${w}）`;
    }

    function updateFortune(d){
      selectedDateText.textContent = fmtDate(d);
      directionText.textContent = getDirection(d);

      const f = fortuneFor(d);
      goodText.textContent = f.good;
      ngText.textContent = f.ng;
      luckyColorChip.textContent = `ラッキーカラー：${f.luckyColor}`;
      categoryChip.textContent = `カテゴリ：${f.category}`;

      tipsList.innerHTML = "";
      f.tips.forEach(t=>{
        const li = document.createElement("li");
        li.textContent = t;
        tipsList.appendChild(li);
      });

      // 月のテーマ・優先
      const m = d.getMonth();
      monthThemeChip.textContent = `今月のテーマ：${monthThemes[m]}`;
      priorityChip.textContent = `優先：${monthPriority[m]}`;
    }

    function renderCalendar(){
      monthTitle.textContent = `${YEAR}年${viewMonth+1}月`;
      calGrid.innerHTML = "";

      const first = new Date(YEAR, viewMonth, 1);
      const lastDay = new Date(YEAR, viewMonth+1, 0).getDate();
      const startDow = first.getDay(); // 0=日

      // 空白セル
      for(let i=0;i<startDow;i++){
        const blank = document.createElement("div");
        blank.className = "day muted";
        blank.textContent = "-";
        calGrid.appendChild(blank);
      }

      for(let day=1; day<=lastDay; day++){
        const d = new Date(YEAR, viewMonth, day);
        const cell = document.createElement("div");
        cell.className = "day";
        cell.textContent = day;

        // 今日マーク
        if(d.toDateString() === today.toDateString()){
          cell.classList.add("today");
        }
        // 選択中
        if(d.toDateString() === selected.toDateString()){
          cell.classList.add("selected");
        }

        cell.addEventListener("click", ()=>{
          selected = d;
          updateFortune(selected);
          renderCalendar();
        });

        calGrid.appendChild(cell);
      }

      // チップ更新
      monthThemeChip.textContent = `今月のテーマ：${monthThemes[viewMonth]}`;
      priorityChip.textContent = `優先：${monthPriority[viewMonth]}`;
    }

    prevBtn.addEventListener("click", ()=>{
      viewMonth = (viewMonth + 11) % 12;
      // 表示月が変わったら、その月の1日に寄せる
      selected = new Date(YEAR, viewMonth, 1);
      updateFortune(selected);
      renderCalendar();
    });

    nextBtn.addEventListener("click", ()=>{
      viewMonth = (viewMonth + 1) % 12;
      selected = new Date(YEAR, viewMonth, 1);
      updateFortune(selected);
      renderCalendar();
    });

    // 初期表示：今日（2026年でなければ 2026/1/1）
    viewMonth = today.getMonth();
    selected = new Date(YEAR, today.getMonth(), today.getDate());
    updateFortune(selected);
    renderCalendar();
  </script>
</body>
</html>
