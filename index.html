<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>運勢カレンダー 2026</title>

  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --text:#111827;
      --sub:#6b7280;
      --line:#e5e7eb;
      --accent:#6366f1;
      --good:#16a34a;
      --ng:#ef4444;
      --shadow: 0 10px 28px rgba(0,0,0,.07);
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", "Hiragino Sans", "Yu Gothic", sans-serif;
      background:var(--bg);
      color:var(--text);
      padding:16px;
    }
    .wrap{ max-width:820px; margin:0 auto; }
    header{ margin:10px 0 14px; }
    h1{ font-size:28px; margin:0 0 6px; letter-spacing:.02em; }
    .lead{ margin:0; color:var(--sub); line-height:1.7; }

    .row{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .chip{
      display:inline-flex; align-items:center; gap:6px;
      padding:6px 10px; border-radius:999px;
      border:1px solid var(--line); background:#fff;
      color:var(--sub); font-size:12px; font-weight:800;
    }
    .chip.accent{ border-color:rgba(99,102,241,.35); background:rgba(99,102,241,.10); color:var(--accent); }
    .chip.good{ border-color:rgba(22,163,74,.30); background:rgba(22,163,74,.10); color:var(--good); }
    .chip.ng{ border-color:rgba(239,68,68,.30); background:rgba(239,68,68,.10); color:var(--ng); }

    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:16px;
      padding:14px;
      box-shadow:var(--shadow);
      margin:12px 0;
    }
    .card h2{ font-size:18px; margin:0 0 10px; }

    .box{
      border:1px solid var(--line);
      border-radius:14px;
      padding:12px;
      background:#fff;
    }
    .box.good{ border-color: rgba(22,163,74,.25); background: rgba(22,163,74,.08); }
    .box.ng{ border-color: rgba(239,68,68,.25); background: rgba(239,68,68,.08); }

    .label{
      font-size:12px; font-weight:900;
      margin-bottom:6px;
      display:flex; align-items:center; gap:8px;
      color:var(--text);
    }
    .dot{ width:10px; height:10px; border-radius:50%; display:inline-block; }
    .dot.good{ background:var(--good); }
    .dot.ng{ background:var(--ng); }

    /* color swatch */
    .swatch{
      width:12px; height:12px; border-radius:999px;
      display:inline-block; vertical-align:middle;
      border:1px solid rgba(0,0,0,.15);
      margin-right:6px;
      background: var(--swatch, #fff);
    }

    /* toolbar */
    .toolbar{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
      position:sticky;
      top:0;
      background:var(--bg);
      padding:10px 0;
      z-index:10;
      border-bottom:1px solid #eee;
      margin:10px 0 12px;
    }
    select,button{
      font-size:15px;
      padding:10px 12px;
      border:1px solid var(--line);
      background:#fff;
      border-radius:12px;
      font-weight:800;
      color:var(--text);
      cursor:pointer;
      user-select:none;
    }
    button:active{ transform: translateY(1px); }

    /* calendar */
    .cal-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .month-title{
      font-weight:900;
      font-size:16px;
      letter-spacing:.02em;
      text-align:center;
      flex:1;
    }
    .grid{
      display:grid;
      grid-template-columns: repeat(7, 1fr);
      gap:8px;
    }
    .dow{
      font-size:12px;
      color:var(--sub);
      font-weight:900;
      text-align:center;
      padding:6px 0;
    }
    .day{
      border:1px solid var(--line);
      background:#fff;
      border-radius:14px;
      min-height:52px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      cursor:pointer;
      position:relative;
      user-select:none;
    }
    .day.muted{
      background:transparent;
      border-color:transparent;
      color:transparent;
      cursor:default;
      min-height:52px;
    }
    .day.selected{
      border-color: rgba(99,102,241,.55);
      box-shadow: 0 0 0 4px rgba(99,102,241,.12);
    }
    .day.today::after{
      content:"";
      width:8px;height:8px;border-radius:999px;
      background:var(--accent);
      position:absolute;
      bottom:8px;
    }
    .day .tiny{
      position:absolute;
      top:8px;
      right:8px;
      width:8px;height:8px;border-radius:999px;
      background: rgba(0,0,0,.08);
    }
    .kv{
      display:flex;
      justify-content:space-between;
      gap:10px;
      padding:10px 12px;
      border:1px solid var(--line);
      border-radius:14px;
      background:#fff;
      margin-top:10px;
    }
    .kv .k{ color:var(--sub); font-size:12px; font-weight:900; }
    .kv .v{ font-weight:900; }

    .split{
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
    }
    @media (min-width: 840px){
      .split{ grid-template-columns: 1.1fr .9fr; align-items:start; }
    }

    ul{ margin:10px 0 0; padding-left:18px; }
    li{ line-height:1.7; }
    footer{ margin:16px 0 6px; text-align:center; color:var(--sub); font-size:12px; }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <h1>運勢カレンダー 2026</h1>
      <p class="lead">日付をタップすると、その日の「吉 / NG / ラッキーカラー / アドバイス」が日替わりで表示されます。</p>
      <div class="row" style="margin-top:10px;">
        <span class="chip accent" id="monthThemeChip">今月のテーマ：整える</span>
        <span class="chip" id="priorityChip">優先：対人</span>
      </div>
    </header>

    <div class="toolbar">
      <button id="prevBtn">← 前の月</button>
      <select id="monthSelect" aria-label="月を選ぶ"></select>
      <button id="nextBtn">次の月 →</button>
      <button id="goTodayBtn">今日へ</button>
    </div>

    <div class="split">
      <!-- Calendar -->
      <div class="card">
        <div class="cal-head">
          <div style="width:72px;"></div>
          <div class="month-title" id="monthTitle">2026年1月</div>
          <div style="width:72px;"></div>
        </div>

        <div class="grid" id="dowRow">
          <div class="dow">日</div><div class="dow">月</div><div class="dow">火</div><div class="dow">水</div><div class="dow">木</div><div class="dow">金</div><div class="dow">土</div>
        </div>

        <div class="grid" id="calGrid" style="margin-top:8px;"></div>

        <div class="kv">
          <div>
            <div class="k">選択中の日付</div>
            <div class="v" id="selectedDateText">-</div>
          </div>
          <div style="text-align:right;">
            <div class="k">おすすめ方角</div>
            <div class="v" id="directionText">-</div>
          </div>
        </div>
      </div>

      <!-- Fortune -->
      <div class="card">
        <h2 id="fortuneTitle">今日の運勢</h2>

        <div class="box good" style="margin-bottom:10px;">
          <div class="label"><span class="dot good"></span>吉</div>
          <div id="goodText">-</div>
        </div>

        <div class="box ng">
          <div class="label"><span class="dot ng"></span>NG</div>
          <div id="ngText">-</div>
        </div>

        <div class="row" style="margin-top:10px;">
          <span class="chip" id="luckyColorChip">ラッキーカラー：-</span>
          <span class="chip" id="categoryChip">カテゴリ：-</span>
          <span class="chip" id="themeChip">テーマ：-</span>
        </div>

        <div class="box" style="margin-top:10px;">
          <div class="label">アドバイス</div>
          <div id="adviceText">-</div>
          <div style="color:#6b7280;font-size:12px;margin-top:6px;" id="oneLinerText">-</div>
        </div>

        <ul id="tipsList"></ul>
      </div>
    </div>

    <footer>© 2026 Fortune Calendar</footer>
  </div>

  <script>
    // =========================
    // 2026 Fortune Calendar (Single-file)
    // =========================
    const YEAR = 2026;

    // 月テーマ（12ヶ月）
    const monthThemes = [
      "整える","準備","始動","加速","信頼","対話","調和","回収","再構築","集中","締め","余韻"
    ];

    // 週リズム：恋愛を週2回くらい混ぜる
    // 日=心身 / 月=仕事 / 火=恋愛 / 水=対人 / 木=仕事 / 金=恋愛 / 土=自分
    const categoryByDow = ["心身","仕事","恋愛","対人","仕事","恋愛","自分"];

    // カテゴリ別カラーパレット（色コード付き）
    const palette = {
      恋愛: [
        { name:"ローズ", hex:"#ec407a" },
        { name:"ワイン", hex:"#8e0038" },
        { name:"ピーチ", hex:"#ff8a80" },
        { name:"ラベンダー", hex:"#9575cd" }
      ],
      仕事: [
        { name:"ネイビー", hex:"#1f3a93" },
        { name:"スチール", hex:"#607d8b" },
        { name:"チャコール", hex:"#374151" },
        { name:"ホワイト", hex:"#ffffff" }
      ],
      対人: [
        { name:"グリーン", hex:"#43a047" },
        { name:"ミント", hex:"#2ec4b6" },
        { name:"アイボリー", hex:"#f4f1de" },
        { name:"ライトグレー", hex:"#e5e7eb" }
      ],
      心身: [
        { name:"スカイ", hex:"#64b5f6" },
        { name:"アクア", hex:"#00bcd4" },
        { name:"ベージュ", hex:"#d7ccc8" },
        { name:"サンド", hex:"#c2b280" }
      ],
      自分: [
        { name:"ゴールド", hex:"#c9a227" },
        { name:"オレンジ", hex:"#fb8c00" },
        { name:"ブラウン", hex:"#6d4c41" },
        { name:"ブラック", hex:"#111111" }
      ]
    };

    // 方位（簡易：日付シードで回す）
    const directions = ["北","北東","東","南東","南","南西","西","北西"];

    // 文章テンプレ（カテゴリ別に増量）
    const goodByCat = {
      恋愛: [
        "目線を合わせて話すと距離が縮まる",
        "短い返信でも温度感が伝わる",
        "相手のペースに寄せると愛される",
        "会う約束は“時間”より“目的”を決めると◎",
        "褒め言葉は一言で刺さる",
        "今日は素直な一言が効く"
      ],
      仕事: [
        "先に段取りを整えるほど勝ちやすい",
        "数字を一つだけ押さえると迷いが消える",
        "結論→理由→次の一手の順で伝えると通る",
        "早めの確認がミスを減らす",
        "今日は“仕上げ”より“詰め”が吉",
        "相手の不安を先に潰すと決まりやすい"
      ],
      対人: [
        "最初の挨拶が場の空気を決める",
        "相手の言葉を1回言い換えると信頼が増える",
        "お願いは短く、感謝は長く",
        "返事は速さより“やわらかさ”が鍵",
        "今日は“聞く7：話す3”が吉",
        "紹介・つなぎ役が運を上げる"
      ],
      心身: [
        "小さく休むほど後半が伸びる",
        "水分と深呼吸で流れが戻る",
        "体を温めると判断が冴える",
        "散歩5分で気分が整う",
        "今日は“無理しない”が最大の吉",
        "目を休めるだけで集中が戻る"
      ],
      自分: [
        "ひとつ手放すとスペースが生まれる",
        "好きなものを1つ選ぶと芯が立つ",
        "整頓は運の呼吸を整える",
        "小さな挑戦が次の扉になる",
        "今日は“決める”より“選び直す”が吉",
        "自分を褒める言葉を1つ用意すると強くなる"
      ]
    };

    const ngByCat = {
      恋愛: [
        "詮索しすぎない（空白も優しさ）",
        "試すような言い方は控える",
        "焦って答えを迫らない",
        "過去の話を掘り返しすぎない",
        "寂しさで連投しない",
        "相手の反応を深読みしない"
      ],
      仕事: [
        "勢いで即決しない（1回寝かせる）",
        "詰めが甘いまま送信しない",
        "言い訳から入らない",
        "タスクを増やしすぎない",
        "“全部やる”をやめる",
        "勝ち筋の薄い案件に時間を吸われない"
      ],
      対人: [
        "噂話に乗らない",
        "正しさで押し切らない",
        "反射で否定しない",
        "結論を急がせない",
        "相手の弱点に触れない",
        "場を支配する話し方をしない"
      ],
      心身: [
        "夜更かししない",
        "空腹のまま判断しない",
        "コーヒーで誤魔化しすぎない",
        "肩に力を入れっぱなしにしない",
        "“我慢”を美徳にしない",
        "寝不足で攻めない"
      ],
      自分: [
        "比較で自分を削らない",
        "やる前から諦めない",
        "完璧主義に戻らない",
        "後回しで不安を増やさない",
        "スマホ見すぎに注意",
        "自分の価値を下げる言い方をしない"
      ]
    };

    const adviceByCat = {
      恋愛: [
        "今日は“短く優しく”が最強。語尾を柔らかく。",
        "会うなら「何したい？」を先に決めると濃くなる。",
        "返信は1回深呼吸してから。温度差が消える。",
        "甘えは一言で。長文は逆効果になりやすい日。",
        "今日は相手を“安心させる言葉”を一つ。"
      ],
      仕事: [
        "上から順にやるより「一番詰まる所」から潰す。",
        "提案は2択にすると決まりやすい日。",
        "今日は“確認”が売上。送る前に一度読み返す。",
        "クロージングは“次の一歩”を具体化すると強い。",
        "結論を先に置くと、話が一気に通る。"
      ],
      対人: [
        "雑談は短く、要点は丁寧に。信頼が積み上がる。",
        "相手の言葉を繰り返すだけで空気が良くなる日。",
        "頼みごとは「いつまでに・何を」を一行で。",
        "今日は“聞く側”に回ると情報が入る。",
        "ありがとうを“具体的に”言うと関係が伸びる。"
      ],
      心身: [
        "疲れのサインを早めに拾う日。5分休憩を入れる。",
        "温かい飲み物が吉。集中が戻りやすい。",
        "歩く→水→深呼吸、で運の流れを整える。",
        "無理な予定は削ってOK。回復が最優先。",
        "今日は“減らす”が正解。予定を1つ軽くする。"
      ],
      自分: [
        "今日は“選び直し”が吉。方向転換しても大丈夫。",
        "小さく片づけると心が軽くなる日。",
        "やりたいことを1つだけ先にやると運が動く。",
        "自分を褒める言葉を1つ用意すると強くなる。",
        "完璧を捨てて“7割で出す”と前に進む。"
      ]
    };

    const oneLiners = [
      "今日は“整える”が勝ち筋。",
      "急がなくていい。丁寧が近道。",
      "小さく動くほど運が開く。",
      "言葉を柔らかくすると全部うまくいく。",
      "休むのも立派な前進。",
      "一つだけ決めると、全部が軽くなる。"
    ];

    // ===== 便利関数 =====
    function pad2(n){ return String(n).padStart(2, "0"); }
    function fmtDateJP(d){
      const w = ["日","月","火","水","木","金","土"][d.getDay()];
      return `${d.getFullYear()}年${d.getMonth()+1}月${d.getDate()}日（${w}）`;
    }
    function dayOfYear(date){
      const start = new Date(date.getFullYear(), 0, 1);
      return Math.floor((date - start) / 86400000); // 0..364
    }
    function pick(arr, seed){ return arr[seed % arr.length]; }

    function fortuneFor(date){
      const doy = dayOfYear(date);
      const m = date.getMonth();
      const d = date.getDate();
      const w = date.getDay();

      const category = categoryByDow[w];
      const theme = monthThemes[m];

      const luckyColor = pick(palette[category], doy + m*7 + d);
      const good = pick(goodByCat[category], doy + 11);
      const ng   = pick(ngByCat[category], doy + 37);
      const advice = pick(adviceByCat[category], doy + 101);
      const oneLiner = pick(oneLiners, doy + m);

      const direction = directions[(doy + m) % directions.length];

      const tips = [
        "今日の一手：まず1つだけ終わらせる",
        "連絡は短くてもOK（温度感重視）",
        "余裕がない時は“やらない”を決める",
        "小さな整頓が運の流れを変える"
      ];

      return { theme, category, good, ng, luckyColor, direction, advice, oneLiner, tips };
    }

    // ===== UI参照 =====
    const monthThemeChip = document.getElementById("monthThemeChip");
    const priorityChip = document.getElementById("priorityChip");

    const monthSelect = document.getElementById("monthSelect");
    const monthTitle = document.getElementById("monthTitle");
    const calGrid = document.getElementById("calGrid");

    const selectedDateText = document.getElementById("selectedDateText");
    const directionText = document.getElementById("directionText");

    const fortuneTitle = document.getElementById("fortuneTitle");
    const goodText = document.getElementById("goodText");
    const ngText = document.getElementById("ngText");
    const luckyColorChip = document.getElementById("luckyColorChip");
    const categoryChip = document.getElementById("categoryChip");
    const themeChip = document.getElementById("themeChip");
    const adviceText = document.getElementById("adviceText");
    const oneLinerText = document.getElementById("oneLinerText");
    const tipsList = document.getElementById("tipsList");

    // ===== 初期日付（今日が2026でなければ 2026/1/1） =====
    const now = new Date();
    const today = (now.getFullYear() === YEAR) ? now : new Date(YEAR, 0, 1);

    let viewMonth = today.getMonth();
    let selected = new Date(YEAR, today.getMonth(), today.getDate());

    // month select options
    for (let m = 0; m < 12; m++){
      const opt = document.createElement("option");
      opt.value = String(m);
      opt.textContent = `${m+1}月`;
      monthSelect.appendChild(opt);
    }

    function updateFortune(d){
      const f = fortuneFor(d);

      fortuneTitle.textContent = "今日の運勢";
      selectedDateText.textContent = fmtDateJP(d);
      directionText.textContent = f.direction;

      goodText.textContent = f.good;
      ngText.textContent = f.ng;

      luckyColorChip.innerHTML = `<span class="swatch" style="--swatch:${f.luckyColor.hex}"></span>ラッキーカラー：${f.luckyColor.name}`;
      categoryChip.textContent = `カテゴリ：${f.category}`;
      themeChip.textContent = `テーマ：${f.theme}`;

      adviceText.textContent = f.advice;
      oneLinerText.textContent = f.oneLiner;

      // top chips
      monthThemeChip.textContent = `今月のテーマ：${monthThemes[d.getMonth()]}`;
      priorityChip.textContent = `優先：${categoryByDow[new Date(YEAR, d.getMonth(), 1).getDay()] === "恋愛" ? "恋愛" : "バランス"}`;

      tipsList.innerHTML = "";
      f.tips.forEach(t=>{
        const li = document.createElement("li");
        li.textContent = t;
        tipsList.appendChild(li);
      });
    }

    function renderCalendar(){
      monthSelect.value = String(viewMonth);
      monthTitle.textContent = `${YEAR}年${viewMonth+1}月`;

      // month chips
      monthThemeChip.textContent = `今月のテーマ：${monthThemes[viewMonth]}`;
      priorityChip.textContent = `優先：${["恋愛","仕事","対人","心身","自分"][viewMonth % 5]}`;

      calGrid.innerHTML = "";

      const first = new Date(YEAR, viewMonth, 1);
      const lastDay = new Date(YEAR, viewMonth+1, 0).getDate();
      const startDow = first.getDay(); // 0=日

      // blanks
      for(let i=0;i<startDow;i++){
        const blank = document.createElement("div");
        blank.className = "day muted";
        blank.textContent = "-";
        calGrid.appendChild(blank);
      }

      for(let day=1; day<=lastDay; day++){
        const d = new Date(YEAR, viewMonth, day);
        const cell = document.createElement("div");
        cell.className = "day";
        cell.textContent = day;

        // small mark if category=恋愛（ちょいヒント）
        const f = fortuneFor(d);
        if (f.category === "恋愛"){
          const tiny = document.createElement("span");
          tiny.className = "tiny";
          tiny.style.background = "rgba(236,64,122,.18)";
          cell.appendChild(tiny);
        }

        // today marker
        if(d.toDateString() === today.toDateString()){
          cell.classList.add("today");
        }
        // selected
        if(d.toDateString() === selected.toDateString()){
          cell.classList.add("selected");
        }

        cell.addEventListener("click", ()=>{
          selected = d;
          updateFortune(selected);
          renderCalendar(); // refresh highlight
        });

        calGrid.appendChild(cell);
      }
    }

    // controls
    document.getElementById("prevBtn").addEventListener("click", ()=>{
      viewMonth = (viewMonth + 11) % 12;
      selected = new Date(YEAR, viewMonth, 1);
      updateFortune(selected);
      renderCalendar();
      window.scrollTo({ top: 0, behavior:"smooth" });
    });

    document.getElementById("nextBtn").addEventListener("click", ()=>{
      viewMonth = (viewMonth + 1) % 12;
      selected = new Date(YEAR, viewMonth, 1);
      updateFortune(selected);
      renderCalendar();
      window.scrollTo({ top: 0, behavior:"smooth" });
    });

    monthSelect.addEventListener("change", (e)=>{
      viewMonth = Number(e.target.value);
      selected = new Date(YEAR, viewMonth, 1);
      updateFortune(selected);
      renderCalendar();
      window.scrollTo({ top: 0, behavior:"smooth" });
    });

    document.getElementById("goTodayBtn").addEventListener("click", ()=>{
      viewMonth = today.getMonth();
      selected = new Date(YEAR, today.getMonth(), today.getDate());
      updateFortune(selected);
      renderCalendar();
      // scroll to calendar top
      window.scrollTo({ top: 0, behavior:"smooth" });
    });

    // init
    updateFortune(selected);
    renderCalendar();
  </script>
</body>
</html>
```0
